<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>bettr • bettr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="bettr">
<meta property="og:description" content="bettr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bettr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/bettr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/federicomarini/bettr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>bettr</h1>
                        <h4 data-toc-skip class="author">Charlotte
Soneson &amp; Federico Marini</h4>
            
            <h4 data-toc-skip class="date">2024-03-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/federicomarini/bettr/blob/HEAD/vignettes/bettr.Rmd" class="external-link"><code>vignettes/bettr.Rmd</code></a></small>
      <div class="hidden name"><code>bettr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Method benchmarking is a core part of computational biology research,
with an intrinsic power to establish best practices in method selection
and application, as well as help identifying gaps and possibilities for
improvement. A typical benchmark evaluates a set of methods using
multiple different metrics, intended to capture different aspects of
their performance. The best method to choose in any given situation can
then be found, e.g., by averaging the different performance metrics,
possibly putting more emphasis on those that are more important to the
specific situation.</p>
<p>Inspired by the <a href="https://www.oecdbetterlifeindex.org/#/11111111111" class="external-link">OECD ‘Better
Life Index’</a>, the <code>bettr</code> package was developed to provide
support for this last step. It allows users to easily create performance
summaries emphasizing the aspects that are most important to them.
<code>bettr</code> can be used interactively, via a R/shiny application,
or programmatically by calling the underlying functions. In this
vignette, we illustrate both alternatives, using example data provided
with the package.</p>
<p>Given the abundance of methods available for computational analysis
of biological data, both within and beyond Bioconductor, and the
importance of careful, adaptive benchmarking, we believe that
<code>bettr</code> will be a useful complement to currently available
Bioconductor infrastructure related to benchmarking and performance
estimation. Other packages (e.g., <em><a href="https://bioconductor.org/packages/3.19/pipeComp" class="external-link">pipeComp</a></em>
or <em><a href="https://bioconductor.org/packages/3.19/SummarizedBenchmark" class="external-link">SummarizedBenchmark</a></em>)
provide frameworks for <em>executing</em> benchmarks by applying and
recording pre-defined workflows to data. Packages such as <em><a href="https://bioconductor.org/packages/3.19/iCOBRA" class="external-link">iCOBRA</a></em> and
<em><a href="https://CRAN.R-project.org/package=ROCR" class="external-link">ROCR</a></em>
instead provide functionality for calculating well-established
evaluation metric. In contrast, <code>bettr</code> focuses on <em>visual
exploration</em> of benchmark results, represented by the values of
several evaluation metrics.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>bettr</code> can be installed from Bioconductor (from release
3.19 onwards):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://bioconductor.github.io/BiocManager/" class="external-link">"BiocManager"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"bettr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/federicomarini/bettr" class="external-link">"bettr"</a></span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://bioconductor.org/packages/SummarizedExperiment" class="external-link">"SummarizedExperiment"</a></span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://tibble.tidyverse.org/" class="external-link">"tibble"</a></span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>The main input to <code>bettr</code> is a <code>data.frame</code>
containing values of several metrics for several methods. In addition,
the user can provide additional annotations and characteristics for the
methods and metrics, which can be used to group and filter them in the
interactive application.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Data for two metrics (metric1, metric2) for three methods (M1, M2, M3)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M1"</span>, <span class="st">"M2"</span>, <span class="st">"M3"</span><span class="op">)</span>, </span>
<span>                 metric1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                 metric2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## More information for metrics</span></span>
<span><span class="va">metricInfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"metric1"</span>, <span class="st">"metric2"</span>, <span class="st">"metric3"</span><span class="op">)</span>,</span>
<span>                         Group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>, <span class="st">"G2"</span>, <span class="st">"G2"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## More information for methods ('IDs')</span></span>
<span><span class="va">idInfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M1"</span>, <span class="st">"M2"</span>, <span class="st">"M3"</span><span class="op">)</span>, </span>
<span>                     Type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"T1"</span>, <span class="st">"T1"</span>, <span class="st">"T2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To simplify handling and sharing, the data can be combined into a
<code>SummarizedExperiment</code> (with methods as rows and metrics as
columns) as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">se</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assembleSE.html">assembleSE</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">df</span>, idCol <span class="op">=</span> <span class="st">"Method"</span>, metricInfo <span class="op">=</span> <span class="va">metricInfo</span>, </span>
<span>                 idInfo <span class="op">=</span> <span class="va">idInfo</span><span class="op">)</span></span>
<span><span class="va">se</span></span>
<span><span class="co">#&gt; class: SummarizedExperiment </span></span>
<span><span class="co">#&gt; dim: 3 2 </span></span>
<span><span class="co">#&gt; metadata(1): bettrInfo</span></span>
<span><span class="co">#&gt; assays(1): values</span></span>
<span><span class="co">#&gt; rownames(3): M1 M2 M3</span></span>
<span><span class="co">#&gt; rowData names(2): Method Type</span></span>
<span><span class="co">#&gt; colnames(2): metric1 metric2</span></span>
<span><span class="co">#&gt; colData names(2): Metric Group</span></span></code></pre></div>
<p>The interactive application to explore the rankings can then be
launched by means of the <code><a href="../reference/bettr.html">bettr()</a></code> function. The input can be
either the assembled <code>SummarizedExperiment</code> object or the
individual components.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Alternative 1</span></span>
<span><span class="fu"><a href="../reference/bettr.html">bettr</a></span><span class="op">(</span>bettrSE <span class="op">=</span> <span class="va">se</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Alternative 2</span></span>
<span><span class="fu"><a href="../reference/bettr.html">bettr</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">df</span>, idCol <span class="op">=</span> <span class="st">"Method"</span>, metricInfo <span class="op">=</span> <span class="va">metricInfo</span>, idInfo <span class="op">=</span> <span class="va">idInfo</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example---single-cell-rna-seq-clustering-benchmark">Example - single-cell RNA-seq clustering benchmark<a class="anchor" aria-label="anchor" href="#example---single-cell-rna-seq-clustering-benchmark"></a>
</h2>
<p>Next, we show a more elaborate example, visualizing data from the
benchmark of single-cell clustering methods performed by <a href="https://f1000research.com/articles/7-1141" class="external-link">Duo et al (2018)</a>.
The values for a set of evaluation metrics applied to results obtained
by several clustering methods are provided in a <code>.csv</code> file
in the package:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"duo2018_results.csv"</span>, </span>
<span>                            package <span class="op">=</span> <span class="st">"bettr"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 14 49</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 14 × 49</span></span></span>
<span><span class="co">#&gt;    method      ARI_Koh ARI_KohTCC ARI_Kumar ARI_KumarTCC ARI_SimKumar4easy</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> CIDR          0.672      0.805     0.989        0.977             1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FlowSOM       0.699      0.855     0.512        0.563             1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> PCAHC         0.869      0.891     1            1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> PCAKmeans     0.836      0.903     0.989        0.978             1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> RaceID2       0.280      0.276     0.949        1                 0.644</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> RtsneKmeans   0.966      0.967     0.989        1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> SAFE          0.613      0.950     0.989        1                 0.952</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> SC3           0.939      0.939     1            1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> SC3svm        0.927      0.929     1            1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Seurat        0.862      0.902     0.988        0.989             1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> TSCAN         0.639      0.618     1            1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> monocle       0.855      0.963     0.988        1                 0.995</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> pcaReduce     0.935      0.979     1            1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> ascend       <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         1            0.988             1    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 43 more variables: ARI_SimKumar4hard &lt;dbl&gt;, ARI_SimKumar8hard &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ARI_Trapnell &lt;dbl&gt;, ARI_TrapnellTCC &lt;dbl&gt;, ARI_Zhengmix4eq &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ARI_Zhengmix4uneq &lt;dbl&gt;, ARI_Zhengmix8eq &lt;dbl&gt;, elapsed_Koh &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_KohTCC &lt;dbl&gt;, elapsed_Kumar &lt;dbl&gt;, elapsed_KumarTCC &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_SimKumar4easy &lt;dbl&gt;, elapsed_SimKumar4hard &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_SimKumar8hard &lt;dbl&gt;, elapsed_Trapnell &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_TrapnellTCC &lt;dbl&gt;, elapsed_Zhengmix4eq &lt;dbl&gt;, …</span></span></span></code></pre></div>
<p>As we can see, we have 14 methods (rows) and 48 different metrics
(columns). The first column provides the name of the clustering method.
More precisely, the columns correspond to four different metrics, each
of which was applied to clustering output from of 12 data sets. We
encode this “grouping” of metrics in a data frame, in such a way that we
can later collapse performance across data sets in
<code>bettr</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metricInfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>Metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"_.*"</span>, <span class="st">""</span>, <span class="va">Metric</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">metricInfo</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;   Metric            Class</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ARI_Koh           ARI  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> ARI_KohTCC        ARI  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> ARI_Kumar         ARI  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> ARI_KumarTCC      ARI  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> ARI_SimKumar4easy ARI  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> ARI_SimKumar4hard ARI</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">metricInfo</span><span class="op">$</span><span class="va">Class</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            ARI        elapsed nclust.vs.true s.norm.vs.true </span></span>
<span><span class="co">#&gt;             12             12             12             12</span></span></code></pre></div>
<p>In order to make different metrics comparable, we next define the
transformation that should be applied to each of them within
<code>bettr</code>. First, we need to make sure that the metric are
consistent in terms of whether large values indicate “good” or “bad”
performance. In our case, for both the <code>elapsed</code> (elapsed run
time), <code>nclust.vs.true</code> (difference between estimated and
true number of clusters) and <code>s.norm.vs.true</code> (difference
between estimated and true normalized Shannon entropy for a clustering),
a small value indicates “better” performance, while for the
<code>ARI</code> (adjusted Rand index), larger values are better. Hence,
we will flip the sign of the first three before doing additional
analyses. Moreover, the different metrics clearly live in different
numeric ranges - the maximal value of the <code>ARI</code> is 1, while
the other metrics can have much larger values. As an example, here we
therefore scale the three other metrics linearly to the interval
<code>[0, 1]</code> to make them more comparable to the <code>ARI</code>
values. We record these transformations in a list, that will be passed
to <code>bettr</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Initialize list</span></span>
<span><span class="va">initialTransforms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">res</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"elapsed|nclust.vs.true|s.norm.vs.true"</span>, </span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span>, </span>
<span>                            <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>flip <span class="op">=</span> <span class="cn">TRUE</span>, transform <span class="op">=</span> <span class="st">'[0,1]'</span><span class="op">)</span></span>
<span>                            <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">initialTransforms</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 36</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">initialTransforms</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "elapsed_Koh"                  "elapsed_KohTCC"              </span></span>
<span><span class="co">#&gt;  [3] "elapsed_Kumar"                "elapsed_KumarTCC"            </span></span>
<span><span class="co">#&gt;  [5] "elapsed_SimKumar4easy"        "elapsed_SimKumar4hard"       </span></span>
<span><span class="co">#&gt;  [7] "elapsed_SimKumar8hard"        "elapsed_Trapnell"            </span></span>
<span><span class="co">#&gt;  [9] "elapsed_TrapnellTCC"          "elapsed_Zhengmix4eq"         </span></span>
<span><span class="co">#&gt; [11] "elapsed_Zhengmix4uneq"        "elapsed_Zhengmix8eq"         </span></span>
<span><span class="co">#&gt; [13] "s.norm.vs.true_Koh"           "s.norm.vs.true_KohTCC"       </span></span>
<span><span class="co">#&gt; [15] "s.norm.vs.true_Kumar"         "s.norm.vs.true_KumarTCC"     </span></span>
<span><span class="co">#&gt; [17] "s.norm.vs.true_SimKumar4easy" "s.norm.vs.true_SimKumar4hard"</span></span>
<span><span class="co">#&gt; [19] "s.norm.vs.true_SimKumar8hard" "s.norm.vs.true_Trapnell"     </span></span>
<span><span class="co">#&gt; [21] "s.norm.vs.true_TrapnellTCC"   "s.norm.vs.true_Zhengmix4eq"  </span></span>
<span><span class="co">#&gt; [23] "s.norm.vs.true_Zhengmix4uneq" "s.norm.vs.true_Zhengmix8eq"  </span></span>
<span><span class="co">#&gt; [25] "nclust.vs.true_Koh"           "nclust.vs.true_KohTCC"       </span></span>
<span><span class="co">#&gt; [27] "nclust.vs.true_Kumar"         "nclust.vs.true_KumarTCC"     </span></span>
<span><span class="co">#&gt; [29] "nclust.vs.true_SimKumar4easy" "nclust.vs.true_SimKumar4hard"</span></span>
<span><span class="co">#&gt; [31] "nclust.vs.true_SimKumar8hard" "nclust.vs.true_Trapnell"     </span></span>
<span><span class="co">#&gt; [33] "nclust.vs.true_TrapnellTCC"   "nclust.vs.true_Zhengmix4eq"  </span></span>
<span><span class="co">#&gt; [35] "nclust.vs.true_Zhengmix4uneq" "nclust.vs.true_Zhengmix8eq"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">initialTransforms</span><span class="op">)</span></span>
<span><span class="co">#&gt; $elapsed_Koh</span></span>
<span><span class="co">#&gt; $elapsed_Koh$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_Koh$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_KohTCC</span></span>
<span><span class="co">#&gt; $elapsed_KohTCC$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_KohTCC$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_Kumar</span></span>
<span><span class="co">#&gt; $elapsed_Kumar$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_Kumar$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_KumarTCC</span></span>
<span><span class="co">#&gt; $elapsed_KumarTCC$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_KumarTCC$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4easy</span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4easy$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4easy$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4hard</span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4hard$flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $elapsed_SimKumar4hard$transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span></code></pre></div>
<p>We can specify four different aspects of the desired transform, which
will be applied in the following order:</p>
<ul>
<li>
<code>flip</code> (<code>TRUE</code> or <code>FALSE</code>, whether
to flip the sign of the values). The default is <code>FALSE</code>.</li>
<li>
<code>offset</code> (a numeric value to add to the observed values,
possibly after applying the sign flip). The default is 0.</li>
<li>
<code>transform</code> (one of <code>None</code>,
<code>[0,1]</code>, <code>[-1,1]</code>, <code>z-score</code>, or
<code>Rank</code>). The default is <code>None</code>.</li>
<li>
<code>cuts</code> (a numeric vector of cuts that will be used to
turn a numeric variable into a categorical one). The default is
<code>NULL</code>.</li>
</ul>
<p>Only values that deviate from the defaults need to be specified.</p>
<p>Finally, we can define a set of colors that we would like to use for
visualizing the methods and metrics in <code>bettr</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metricColors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    Class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>ARI <span class="op">=</span> <span class="st">"purple"</span>, elapsed <span class="op">=</span> <span class="st">"forestgreen"</span>, </span>
<span>              nclust.vs.true <span class="op">=</span> <span class="st">"blue"</span>, </span>
<span>              s.norm.vs.true <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">idColors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        CIDR <span class="op">=</span> <span class="st">"#332288"</span>, FlowSOM <span class="op">=</span> <span class="st">"#6699CC"</span>, PCAHC <span class="op">=</span> <span class="st">"#88CCEE"</span>, </span>
<span>        PCAKmeans <span class="op">=</span> <span class="st">"#44AA99"</span>, pcaReduce <span class="op">=</span> <span class="st">"#117733"</span>,</span>
<span>        RtsneKmeans <span class="op">=</span> <span class="st">"#999933"</span>, Seurat <span class="op">=</span> <span class="st">"#DDCC77"</span>, SC3svm <span class="op">=</span> <span class="st">"#661100"</span>, </span>
<span>        SC3 <span class="op">=</span> <span class="st">"#CC6677"</span>, TSCAN <span class="op">=</span> <span class="st">"grey34"</span>, ascend <span class="op">=</span> <span class="st">"orange"</span>, SAFE <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>        monocle <span class="op">=</span> <span class="st">"red"</span>, RaceID2 <span class="op">=</span> <span class="st">"blue"</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>All the information defined so far can be combined in a
<code>SummarizedExperiment</code> object, as shown above for the small
example data:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">duo2018</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assembleSE.html">assembleSE</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">res</span>, idCol <span class="op">=</span> <span class="st">"method"</span>, metricInfo <span class="op">=</span> <span class="va">metricInfo</span>, </span>
<span>                      initialTransforms <span class="op">=</span> <span class="va">initialTransforms</span>,</span>
<span>                      metricColors <span class="op">=</span> <span class="va">metricColors</span>, idColors <span class="op">=</span> <span class="va">idColors</span><span class="op">)</span></span>
<span><span class="va">duo2018</span></span>
<span><span class="co">#&gt; class: SummarizedExperiment </span></span>
<span><span class="co">#&gt; dim: 14 48 </span></span>
<span><span class="co">#&gt; metadata(1): bettrInfo</span></span>
<span><span class="co">#&gt; assays(1): values</span></span>
<span><span class="co">#&gt; rownames(14): CIDR FlowSOM ... pcaReduce ascend</span></span>
<span><span class="co">#&gt; rowData names(0):</span></span>
<span><span class="co">#&gt; colnames(48): ARI_Koh ARI_KohTCC ... nclust.vs.true_Zhengmix4uneq</span></span>
<span><span class="co">#&gt;   nclust.vs.true_Zhengmix8eq</span></span>
<span><span class="co">#&gt; colData names(2): Metric Class</span></span></code></pre></div>
<p>The <code>assay</code> of the <code>SummarizedExperiment</code>
object contains the values for the 48 performance measures for the 14
clustering methods. The <code>metricInfo</code> is stored in the
<code>colData</code>, and the lists of colors and the initial transforms
in the <code>metadata</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Display the whole performance table</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">assay</a></span><span class="op">(</span><span class="va">duo2018</span>, <span class="st">"values"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 14 × 48</span></span></span>
<span><span class="co">#&gt;    ARI_Koh ARI_KohTCC ARI_Kumar ARI_KumarTCC ARI_SimKumar4easy ARI_SimKumar4hard</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   0.672      0.805     0.989        0.977             1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   0.699      0.855     0.512        0.563             1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   0.869      0.891     1            1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   0.836      0.903     0.989        0.978             1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   0.280      0.276     0.949        1                 0.644             0.194</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   0.966      0.967     0.989        1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   0.613      0.950     0.989        1                 0.952            <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   0.939      0.939     1            1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   0.927      0.929     1            1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   0.862      0.902     0.988        0.989             1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>   0.639      0.618     1            1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>   0.855      0.963     0.988        1                 0.995             0.992</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>   0.935      0.979     1            1                 1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         1            0.988             1                 1    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 42 more variables: ARI_SimKumar8hard &lt;dbl&gt;, ARI_Trapnell &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ARI_TrapnellTCC &lt;dbl&gt;, ARI_Zhengmix4eq &lt;dbl&gt;, ARI_Zhengmix4uneq &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ARI_Zhengmix8eq &lt;dbl&gt;, elapsed_Koh &lt;dbl&gt;, elapsed_KohTCC &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_Kumar &lt;dbl&gt;, elapsed_KumarTCC &lt;dbl&gt;, elapsed_SimKumar4easy &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_SimKumar4hard &lt;dbl&gt;, elapsed_SimKumar8hard &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_Trapnell &lt;dbl&gt;, elapsed_TrapnellTCC &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   elapsed_Zhengmix4eq &lt;dbl&gt;, elapsed_Zhengmix4uneq &lt;dbl&gt;, …</span></span></span>
<span></span>
<span><span class="co">## Showing the first metric, evaluated on all datasets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">colData</a></span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span>, <span class="fl">12</span><span class="op">)</span></span>
<span><span class="co">#&gt; DataFrame with 12 rows and 2 columns</span></span>
<span><span class="co">#&gt;                              Metric       Class</span></span>
<span><span class="co">#&gt;                         &lt;character&gt; &lt;character&gt;</span></span>
<span><span class="co">#&gt; ARI_Koh                     ARI_Koh         ARI</span></span>
<span><span class="co">#&gt; ARI_KohTCC               ARI_KohTCC         ARI</span></span>
<span><span class="co">#&gt; ARI_Kumar                 ARI_Kumar         ARI</span></span>
<span><span class="co">#&gt; ARI_KumarTCC           ARI_KumarTCC         ARI</span></span>
<span><span class="co">#&gt; ARI_SimKumar4easy ARI_SimKumar4easy         ARI</span></span>
<span><span class="co">#&gt; ...                             ...         ...</span></span>
<span><span class="co">#&gt; ARI_Trapnell           ARI_Trapnell         ARI</span></span>
<span><span class="co">#&gt; ARI_TrapnellTCC     ARI_TrapnellTCC         ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix4eq     ARI_Zhengmix4eq         ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix4uneq ARI_Zhengmix4uneq         ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix8eq     ARI_Zhengmix8eq         ARI</span></span>
<span></span>
<span><span class="co">## These are the color definitions (can mix character and hex values)</span></span>
<span><span class="fu">metadata</span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span><span class="op">$</span><span class="va">bettrInfo</span><span class="op">$</span><span class="va">idColors</span></span>
<span><span class="co">#&gt; $method</span></span>
<span><span class="co">#&gt;        CIDR     FlowSOM       PCAHC   PCAKmeans   pcaReduce RtsneKmeans </span></span>
<span><span class="co">#&gt;   "#332288"   "#6699CC"   "#88CCEE"   "#44AA99"   "#117733"   "#999933" </span></span>
<span><span class="co">#&gt;      Seurat      SC3svm         SC3       TSCAN      ascend        SAFE </span></span>
<span><span class="co">#&gt;   "#DDCC77"   "#661100"   "#CC6677"    "grey34"    "orange"     "black" </span></span>
<span><span class="co">#&gt;     monocle     RaceID2 </span></span>
<span><span class="co">#&gt;       "red"      "blue"</span></span>
<span><span class="fu">metadata</span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span><span class="op">$</span><span class="va">bettrInfo</span><span class="op">$</span><span class="va">metricColors</span></span>
<span><span class="co">#&gt; $Class</span></span>
<span><span class="co">#&gt;            ARI        elapsed nclust.vs.true s.norm.vs.true </span></span>
<span><span class="co">#&gt;       "purple"  "forestgreen"         "blue"       "orange"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu">metadata</span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span><span class="op">$</span><span class="va">bettrInfo</span><span class="op">$</span><span class="va">initialTransforms</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "elapsed_Koh"                  "elapsed_KohTCC"              </span></span>
<span><span class="co">#&gt;  [3] "elapsed_Kumar"                "elapsed_KumarTCC"            </span></span>
<span><span class="co">#&gt;  [5] "elapsed_SimKumar4easy"        "elapsed_SimKumar4hard"       </span></span>
<span><span class="co">#&gt;  [7] "elapsed_SimKumar8hard"        "elapsed_Trapnell"            </span></span>
<span><span class="co">#&gt;  [9] "elapsed_TrapnellTCC"          "elapsed_Zhengmix4eq"         </span></span>
<span><span class="co">#&gt; [11] "elapsed_Zhengmix4uneq"        "elapsed_Zhengmix8eq"         </span></span>
<span><span class="co">#&gt; [13] "s.norm.vs.true_Koh"           "s.norm.vs.true_KohTCC"       </span></span>
<span><span class="co">#&gt; [15] "s.norm.vs.true_Kumar"         "s.norm.vs.true_KumarTCC"     </span></span>
<span><span class="co">#&gt; [17] "s.norm.vs.true_SimKumar4easy" "s.norm.vs.true_SimKumar4hard"</span></span>
<span><span class="co">#&gt; [19] "s.norm.vs.true_SimKumar8hard" "s.norm.vs.true_Trapnell"     </span></span>
<span><span class="co">#&gt; [21] "s.norm.vs.true_TrapnellTCC"   "s.norm.vs.true_Zhengmix4eq"  </span></span>
<span><span class="co">#&gt; [23] "s.norm.vs.true_Zhengmix4uneq" "s.norm.vs.true_Zhengmix8eq"  </span></span>
<span><span class="co">#&gt; [25] "nclust.vs.true_Koh"           "nclust.vs.true_KohTCC"       </span></span>
<span><span class="co">#&gt; [27] "nclust.vs.true_Kumar"         "nclust.vs.true_KumarTCC"     </span></span>
<span><span class="co">#&gt; [29] "nclust.vs.true_SimKumar4easy" "nclust.vs.true_SimKumar4hard"</span></span>
<span><span class="co">#&gt; [31] "nclust.vs.true_SimKumar8hard" "nclust.vs.true_Trapnell"     </span></span>
<span><span class="co">#&gt; [33] "nclust.vs.true_TrapnellTCC"   "nclust.vs.true_Zhengmix4eq"  </span></span>
<span><span class="co">#&gt; [35] "nclust.vs.true_Zhengmix4uneq" "nclust.vs.true_Zhengmix8eq"</span></span>
<span></span>
<span><span class="co">## An example of a transformation - elapsed time for the Koh dataset</span></span>
<span><span class="fu">metadata</span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span><span class="op">$</span><span class="va">bettrInfo</span><span class="op">$</span><span class="va">initialTransforms</span><span class="op">$</span><span class="va">elapsed_Koh</span></span>
<span><span class="co">#&gt; $flip</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $transform</span></span>
<span><span class="co">#&gt; [1] "[0,1]"</span></span></code></pre></div>
<p>Now, we can launch the app for this data set:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bettr.html">bettr</a></span><span class="op">(</span>bettrSE <span class="op">=</span> <span class="va">duo2018</span>, bstheme <span class="op">=</span> <span class="st">"sandstone"</span><span class="op">)</span></span></code></pre></div>
<p>The screenshot below illustrates the default view of the interactive
interface.</p>
<p><img src="bettr-screenshot-heatmap.png" width="100%"></p>
<p>We can choose to collapse the metric values to have a single value
for each metric class, to reduce the redundancy. We can now also freely
decide how to weight the respective metrics by means of the sliders in
the left side bar. The bars on top of the heatmap show the current
weight assignment.</p>
<p><img src="bettr-screenshot-heatmap-collapsed.png" width="100%"></p>
<p><code>bettr</code> also provides alternative visualizations, e.g. a
polar plot:</p>
<p><img src="bettr-screenshot-polar.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="programmatic-interface">Programmatic interface<a class="anchor" aria-label="anchor" href="#programmatic-interface"></a>
</h2>
<p>The interactive application showcased above, is the main entry point
to using <code>bettr</code>. However, we also provide a wrapper function
to prepare the input data for plotting (replicating the steps that are
performed in the app), as well as access to the plotting functions
themselves. The following code replicates the results for the example
above.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Assign a higher weight to one of the collapsed metric classes</span></span>
<span><span class="fu">metadata</span><span class="op">(</span><span class="va">duo2018</span><span class="op">)</span><span class="op">$</span><span class="va">bettrInfo</span><span class="op">$</span><span class="va">initialWeights</span><span class="op">[</span><span class="st">"Class_ARI"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.55</span></span>
<span></span>
<span><span class="va">prepData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bettrGetReady.html">bettrGetReady</a></span><span class="op">(</span></span>
<span>    bettrSE <span class="op">=</span> <span class="va">duo2018</span>, idCol <span class="op">=</span> <span class="st">"method"</span>, </span>
<span>    scoreMethod <span class="op">=</span> <span class="st">"weighted mean"</span>, metricGrouping <span class="op">=</span> <span class="st">"Class"</span>, </span>
<span>    metricCollapseGroup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## This object is fairly verbose and detailed, </span></span>
<span><span class="co">## but has the whole set of info needed</span></span>
<span><span class="va">prepData</span></span>
<span><span class="co">#&gt; $plotdata</span></span>
<span><span class="co">#&gt;         method    metricGroup ScaledValue Weight         Metric</span></span>
<span><span class="co">#&gt; 1         CIDR            ARI   0.6512593   0.55            ARI</span></span>
<span><span class="co">#&gt; 2         CIDR        elapsed   0.9889737   0.20        elapsed</span></span>
<span><span class="co">#&gt; 3         CIDR nclust.vs.true   0.7250000   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 4         CIDR s.norm.vs.true   0.7637276   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 5      FlowSOM            ARI   0.5211600   0.55            ARI</span></span>
<span><span class="co">#&gt; 6      FlowSOM        elapsed   0.9743747   0.20        elapsed</span></span>
<span><span class="co">#&gt; 7      FlowSOM nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 8      FlowSOM s.norm.vs.true   0.4148342   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 9        PCAHC            ARI   0.7226564   0.55            ARI</span></span>
<span><span class="co">#&gt; 10       PCAHC        elapsed   0.9737352   0.20        elapsed</span></span>
<span><span class="co">#&gt; 11       PCAHC nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 12       PCAHC s.norm.vs.true   0.8884335   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 13   PCAKmeans            ARI   0.7046547   0.55            ARI</span></span>
<span><span class="co">#&gt; 14   PCAKmeans        elapsed   0.9725792   0.20        elapsed</span></span>
<span><span class="co">#&gt; 15   PCAKmeans nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 16   PCAKmeans s.norm.vs.true   0.9237374   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 17     RaceID2            ARI   0.4842523   0.55            ARI</span></span>
<span><span class="co">#&gt; 18     RaceID2        elapsed   0.6875220   0.20        elapsed</span></span>
<span><span class="co">#&gt; 19     RaceID2 nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 20     RaceID2 s.norm.vs.true   0.5196616   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 21 RtsneKmeans            ARI   0.7832325   0.55            ARI</span></span>
<span><span class="co">#&gt; 22 RtsneKmeans        elapsed   0.9450899   0.20        elapsed</span></span>
<span><span class="co">#&gt; 23 RtsneKmeans nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 24 RtsneKmeans s.norm.vs.true   0.9159085   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 25        SAFE            ARI   0.7146467   0.55            ARI</span></span>
<span><span class="co">#&gt; 26        SAFE        elapsed   0.4037866   0.20        elapsed</span></span>
<span><span class="co">#&gt; 27        SAFE nclust.vs.true   0.6333333   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 28        SAFE s.norm.vs.true   0.7652029   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 29         SC3            ARI   0.8533547   0.55            ARI</span></span>
<span><span class="co">#&gt; 30         SC3        elapsed   0.4596628   0.20        elapsed</span></span>
<span><span class="co">#&gt; 31         SC3 nclust.vs.true   0.3111111   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 32         SC3 s.norm.vs.true   0.8755450   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 33      SC3svm            ARI   0.8226663   0.55            ARI</span></span>
<span><span class="co">#&gt; 34      SC3svm        elapsed   0.6680284   0.20        elapsed</span></span>
<span><span class="co">#&gt; 35      SC3svm nclust.vs.true   0.3111111   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 36      SC3svm s.norm.vs.true   0.8481785   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 37      Seurat            ARI   0.8470658   0.55            ARI</span></span>
<span><span class="co">#&gt; 38      Seurat        elapsed   0.9871638   0.20        elapsed</span></span>
<span><span class="co">#&gt; 39      Seurat nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 40      Seurat s.norm.vs.true   0.9764823   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 41       TSCAN            ARI   0.6906276   0.55            ARI</span></span>
<span><span class="co">#&gt; 42       TSCAN        elapsed   0.9119148   0.20        elapsed</span></span>
<span><span class="co">#&gt; 43       TSCAN nclust.vs.true   0.5833333   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 44       TSCAN s.norm.vs.true   0.8273006   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 45      ascend            ARI   0.6640133   0.55            ARI</span></span>
<span><span class="co">#&gt; 46      ascend        elapsed   0.9434679   0.20        elapsed</span></span>
<span><span class="co">#&gt; 47      ascend nclust.vs.true   0.7592593   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 48      ascend s.norm.vs.true   0.8806625   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 49     monocle            ARI   0.7823963   0.55            ARI</span></span>
<span><span class="co">#&gt; 50     monocle        elapsed   0.9494058   0.20        elapsed</span></span>
<span><span class="co">#&gt; 51     monocle nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 52     monocle s.norm.vs.true   0.8028666   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; 53   pcaReduce            ARI   0.7639055   0.55            ARI</span></span>
<span><span class="co">#&gt; 54   pcaReduce        elapsed   0.2947025   0.20        elapsed</span></span>
<span><span class="co">#&gt; 55   pcaReduce nclust.vs.true          NA   0.20 nclust.vs.true</span></span>
<span><span class="co">#&gt; 56   pcaReduce s.norm.vs.true   0.9044682   0.20 s.norm.vs.true</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scoredata</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 14 × 2</span></span></span>
<span><span class="co">#&gt;    method      Score</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Seurat      0.904</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> RtsneKmeans 0.845</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> monocle     0.822</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> PCAHC       0.810</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> PCAKmeans   0.807</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> ascend      0.767</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> CIDR        0.742</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> TSCAN       0.734</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> SC3svm      0.711</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> pcaReduce   0.695</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> SC3         0.694</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> SAFE        0.655</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> FlowSOM     0.594</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> RaceID2     0.535</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $idColors</span></span>
<span><span class="co">#&gt; $idColors$method</span></span>
<span><span class="co">#&gt;        CIDR     FlowSOM       PCAHC   PCAKmeans   pcaReduce RtsneKmeans </span></span>
<span><span class="co">#&gt;   "#332288"   "#6699CC"   "#88CCEE"   "#44AA99"   "#117733"   "#999933" </span></span>
<span><span class="co">#&gt;      Seurat      SC3svm         SC3       TSCAN      ascend        SAFE </span></span>
<span><span class="co">#&gt;   "#DDCC77"   "#661100"   "#CC6677"    "grey34"    "orange"     "black" </span></span>
<span><span class="co">#&gt;     monocle     RaceID2 </span></span>
<span><span class="co">#&gt;       "red"      "blue" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricColors</span></span>
<span><span class="co">#&gt; $metricColors$Class</span></span>
<span><span class="co">#&gt;            ARI        elapsed nclust.vs.true s.norm.vs.true </span></span>
<span><span class="co">#&gt;       "purple"  "forestgreen"         "blue"       "orange" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricColors$Metric</span></span>
<span><span class="co">#&gt;                      ARI_Koh                   ARI_KohTCC </span></span>
<span><span class="co">#&gt;                    "#F8766D"                    "#F37C58" </span></span>
<span><span class="co">#&gt;                    ARI_Kumar                 ARI_KumarTCC </span></span>
<span><span class="co">#&gt;                    "#ED813E"                    "#E68613" </span></span>
<span><span class="co">#&gt;            ARI_SimKumar4easy            ARI_SimKumar4hard </span></span>
<span><span class="co">#&gt;                    "#DE8C00"                    "#D69100" </span></span>
<span><span class="co">#&gt;            ARI_SimKumar8hard                 ARI_Trapnell </span></span>
<span><span class="co">#&gt;                    "#CD9600"                    "#C29A00" </span></span>
<span><span class="co">#&gt;              ARI_TrapnellTCC              ARI_Zhengmix4eq </span></span>
<span><span class="co">#&gt;                    "#B79F00"                    "#ABA300" </span></span>
<span><span class="co">#&gt;            ARI_Zhengmix4uneq              ARI_Zhengmix8eq </span></span>
<span><span class="co">#&gt;                    "#9DA700"                    "#8EAB00" </span></span>
<span><span class="co">#&gt;                  elapsed_Koh               elapsed_KohTCC </span></span>
<span><span class="co">#&gt;                    "#7CAE00"                    "#66B200" </span></span>
<span><span class="co">#&gt;                elapsed_Kumar             elapsed_KumarTCC </span></span>
<span><span class="co">#&gt;                    "#49B500"                    "#0CB702" </span></span>
<span><span class="co">#&gt;        elapsed_SimKumar4easy        elapsed_SimKumar4hard </span></span>
<span><span class="co">#&gt;                    "#00BA38"                    "#00BC52" </span></span>
<span><span class="co">#&gt;        elapsed_SimKumar8hard             elapsed_Trapnell </span></span>
<span><span class="co">#&gt;                    "#00BE67"                    "#00BF7A" </span></span>
<span><span class="co">#&gt;          elapsed_TrapnellTCC          elapsed_Zhengmix4eq </span></span>
<span><span class="co">#&gt;                    "#00C08B"                    "#00C19A" </span></span>
<span><span class="co">#&gt;        elapsed_Zhengmix4uneq          elapsed_Zhengmix8eq </span></span>
<span><span class="co">#&gt;                    "#00C1A9"                    "#00C0B7" </span></span>
<span><span class="co">#&gt;           s.norm.vs.true_Koh        s.norm.vs.true_KohTCC </span></span>
<span><span class="co">#&gt;                    "#00BFC4"                    "#00BDD1" </span></span>
<span><span class="co">#&gt;         s.norm.vs.true_Kumar      s.norm.vs.true_KumarTCC </span></span>
<span><span class="co">#&gt;                    "#00BBDC"                    "#00B8E7" </span></span>
<span><span class="co">#&gt; s.norm.vs.true_SimKumar4easy s.norm.vs.true_SimKumar4hard </span></span>
<span><span class="co">#&gt;                    "#00B4F0"                    "#00AFF8" </span></span>
<span><span class="co">#&gt; s.norm.vs.true_SimKumar8hard      s.norm.vs.true_Trapnell </span></span>
<span><span class="co">#&gt;                    "#00A9FF"                    "#22A3FF" </span></span>
<span><span class="co">#&gt;   s.norm.vs.true_TrapnellTCC   s.norm.vs.true_Zhengmix4eq </span></span>
<span><span class="co">#&gt;                    "#619CFF"                    "#8494FF" </span></span>
<span><span class="co">#&gt; s.norm.vs.true_Zhengmix4uneq   s.norm.vs.true_Zhengmix8eq </span></span>
<span><span class="co">#&gt;                    "#9F8CFF"                    "#B584FF" </span></span>
<span><span class="co">#&gt;           nclust.vs.true_Koh        nclust.vs.true_KohTCC </span></span>
<span><span class="co">#&gt;                    "#C77CFF"                    "#D674FD" </span></span>
<span><span class="co">#&gt;         nclust.vs.true_Kumar      nclust.vs.true_KumarTCC </span></span>
<span><span class="co">#&gt;                    "#E36EF6"                    "#ED68ED" </span></span>
<span><span class="co">#&gt; nclust.vs.true_SimKumar4easy nclust.vs.true_SimKumar4hard </span></span>
<span><span class="co">#&gt;                    "#F564E3"                    "#FB61D8" </span></span>
<span><span class="co">#&gt; nclust.vs.true_SimKumar8hard      nclust.vs.true_Trapnell </span></span>
<span><span class="co">#&gt;                    "#FF61CC"                    "#FF62BF" </span></span>
<span><span class="co">#&gt;   nclust.vs.true_TrapnellTCC   nclust.vs.true_Zhengmix4eq </span></span>
<span><span class="co">#&gt;                    "#FF64B0"                    "#FF68A1" </span></span>
<span><span class="co">#&gt; nclust.vs.true_Zhengmix4uneq   nclust.vs.true_Zhengmix8eq </span></span>
<span><span class="co">#&gt;                    "#FF6C91"                    "#FC7180" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricGrouping</span></span>
<span><span class="co">#&gt; [1] "Class"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricCollapseGroup</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $idInfo</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricInfo</span></span>
<span><span class="co">#&gt;                                                    Metric          Class</span></span>
<span><span class="co">#&gt; ARI_Koh                                           ARI_Koh            ARI</span></span>
<span><span class="co">#&gt; ARI_KohTCC                                     ARI_KohTCC            ARI</span></span>
<span><span class="co">#&gt; ARI_Kumar                                       ARI_Kumar            ARI</span></span>
<span><span class="co">#&gt; ARI_KumarTCC                                 ARI_KumarTCC            ARI</span></span>
<span><span class="co">#&gt; ARI_SimKumar4easy                       ARI_SimKumar4easy            ARI</span></span>
<span><span class="co">#&gt; ARI_SimKumar4hard                       ARI_SimKumar4hard            ARI</span></span>
<span><span class="co">#&gt; ARI_SimKumar8hard                       ARI_SimKumar8hard            ARI</span></span>
<span><span class="co">#&gt; ARI_Trapnell                                 ARI_Trapnell            ARI</span></span>
<span><span class="co">#&gt; ARI_TrapnellTCC                           ARI_TrapnellTCC            ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix4eq                           ARI_Zhengmix4eq            ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix4uneq                       ARI_Zhengmix4uneq            ARI</span></span>
<span><span class="co">#&gt; ARI_Zhengmix8eq                           ARI_Zhengmix8eq            ARI</span></span>
<span><span class="co">#&gt; elapsed_Koh                                   elapsed_Koh        elapsed</span></span>
<span><span class="co">#&gt; elapsed_KohTCC                             elapsed_KohTCC        elapsed</span></span>
<span><span class="co">#&gt; elapsed_Kumar                               elapsed_Kumar        elapsed</span></span>
<span><span class="co">#&gt; elapsed_KumarTCC                         elapsed_KumarTCC        elapsed</span></span>
<span><span class="co">#&gt; elapsed_SimKumar4easy               elapsed_SimKumar4easy        elapsed</span></span>
<span><span class="co">#&gt; elapsed_SimKumar4hard               elapsed_SimKumar4hard        elapsed</span></span>
<span><span class="co">#&gt; elapsed_SimKumar8hard               elapsed_SimKumar8hard        elapsed</span></span>
<span><span class="co">#&gt; elapsed_Trapnell                         elapsed_Trapnell        elapsed</span></span>
<span><span class="co">#&gt; elapsed_TrapnellTCC                   elapsed_TrapnellTCC        elapsed</span></span>
<span><span class="co">#&gt; elapsed_Zhengmix4eq                   elapsed_Zhengmix4eq        elapsed</span></span>
<span><span class="co">#&gt; elapsed_Zhengmix4uneq               elapsed_Zhengmix4uneq        elapsed</span></span>
<span><span class="co">#&gt; elapsed_Zhengmix8eq                   elapsed_Zhengmix8eq        elapsed</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Koh                     s.norm.vs.true_Koh s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_KohTCC               s.norm.vs.true_KohTCC s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Kumar                 s.norm.vs.true_Kumar s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_KumarTCC           s.norm.vs.true_KumarTCC s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_SimKumar4easy s.norm.vs.true_SimKumar4easy s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_SimKumar4hard s.norm.vs.true_SimKumar4hard s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_SimKumar8hard s.norm.vs.true_SimKumar8hard s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Trapnell           s.norm.vs.true_Trapnell s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_TrapnellTCC     s.norm.vs.true_TrapnellTCC s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Zhengmix4eq     s.norm.vs.true_Zhengmix4eq s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Zhengmix4uneq s.norm.vs.true_Zhengmix4uneq s.norm.vs.true</span></span>
<span><span class="co">#&gt; s.norm.vs.true_Zhengmix8eq     s.norm.vs.true_Zhengmix8eq s.norm.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Koh                     nclust.vs.true_Koh nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_KohTCC               nclust.vs.true_KohTCC nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Kumar                 nclust.vs.true_Kumar nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_KumarTCC           nclust.vs.true_KumarTCC nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_SimKumar4easy nclust.vs.true_SimKumar4easy nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_SimKumar4hard nclust.vs.true_SimKumar4hard nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_SimKumar8hard nclust.vs.true_SimKumar8hard nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Trapnell           nclust.vs.true_Trapnell nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_TrapnellTCC     nclust.vs.true_TrapnellTCC nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Zhengmix4eq     nclust.vs.true_Zhengmix4eq nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Zhengmix4uneq nclust.vs.true_Zhengmix4uneq nclust.vs.true</span></span>
<span><span class="co">#&gt; nclust.vs.true_Zhengmix8eq     nclust.vs.true_Zhengmix8eq nclust.vs.true</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricGroupCol</span></span>
<span><span class="co">#&gt; [1] "metricGroup"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $methods</span></span>
<span><span class="co">#&gt;  [1] "CIDR"        "FlowSOM"     "PCAHC"       "PCAKmeans"   "RaceID2"    </span></span>
<span><span class="co">#&gt;  [6] "RtsneKmeans" "SAFE"        "SC3"         "SC3svm"      "Seurat"     </span></span>
<span><span class="co">#&gt; [11] "TSCAN"       "monocle"     "pcaReduce"   "ascend"     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $idCol</span></span>
<span><span class="co">#&gt; [1] "method"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metricCol</span></span>
<span><span class="co">#&gt; [1] "Metric"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $valueCol</span></span>
<span><span class="co">#&gt; [1] "ScaledValue"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $weightCol</span></span>
<span><span class="co">#&gt; [1] "Weight"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scoreCol</span></span>
<span><span class="co">#&gt; [1] "Score"</span></span>
<span></span>
<span><span class="co">## Call the plotting routines specifying one single parameter</span></span>
<span><span class="fu"><a href="../reference/makeHeatmap.html">makeHeatmap</a></span><span class="op">(</span>bettrList <span class="op">=</span> <span class="va">prepData</span><span class="op">)</span></span></code></pre></div>
<p><img src="bettr_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/makePolarPlot.html">makePolarPlot</a></span><span class="op">(</span>bettrList <span class="op">=</span> <span class="va">prepData</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 8 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_col()`).</span></span></code></pre></div>
<p><img src="bettr_files/figure-html/unnamed-chunk-13-2.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="additional-examples">Additional examples<a class="anchor" aria-label="anchor" href="#additional-examples"></a>
</h2>
<p><code>bettr</code> can also be adapted to represent more types of
such collections of metrics, other than the results of a benchmarking
study in computational biology. An <a href="https://github.com/federicomarini/bettr/blob/devel/inst/scripts/visualize_oecd_data.R" class="external-link">example</a>,
which is also included in the <code>inst/scripts</code> folder of this
package, presents the OECD Better Life Index (<a href="https://stats.oecd.org/index.aspx?DataSetCode=BLI" class="external-link uri">https://stats.oecd.org/index.aspx?DataSetCode=BLI</a>),
spanning over 11 topics, each represented by one to three indicators.
These indicators are good measures of the concepts of well-being, and
well suited to display some comparison across countries.</p>
<!-- screenshot of that? -->
<p>Additional examples can be added to the codebase upon interest, and
we encourage users to contribute to that via a Pull Request to <a href="https://github.com/federicomarini/bettr" class="external-link uri">https://github.com/federicomarini/bettr</a>.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R Under development (unstable) (2024-03-10 r86088)</span></span>
<span><span class="co">#&gt; Platform: x86_64-apple-darwin20</span></span>
<span><span class="co">#&gt; Running under: macOS Monterey 12.7.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.4-x86_64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.4-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: internal</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span></span>
<span><span class="co">#&gt; [8] base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt;  [1] dplyr_1.1.4                 tibble_3.2.1               </span></span>
<span><span class="co">#&gt;  [3] SummarizedExperiment_1.33.3 Biobase_2.63.0             </span></span>
<span><span class="co">#&gt;  [5] GenomicRanges_1.55.3        GenomeInfoDb_1.39.8        </span></span>
<span><span class="co">#&gt;  [7] IRanges_2.37.1              S4Vectors_0.41.4           </span></span>
<span><span class="co">#&gt;  [9] BiocGenerics_0.49.1         MatrixGenerics_1.15.0      </span></span>
<span><span class="co">#&gt; [11] matrixStats_1.2.0           bettr_0.99.2               </span></span>
<span><span class="co">#&gt; [13] BiocStyle_2.31.0           </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;   [1] bitops_1.0-7            gridExtra_2.3           rlang_1.1.3            </span></span>
<span><span class="co">#&gt;   [4] magrittr_2.0.3          clue_0.3-65             GetoptLong_1.0.5       </span></span>
<span><span class="co">#&gt;   [7] compiler_4.4.0          png_0.1-8               systemfonts_1.0.6      </span></span>
<span><span class="co">#&gt;  [10] vctrs_0.6.5             stringr_1.5.1           pkgconfig_2.0.3        </span></span>
<span><span class="co">#&gt;  [13] shape_1.4.6.1           crayon_1.5.2            fastmap_1.1.1          </span></span>
<span><span class="co">#&gt;  [16] ellipsis_0.3.2          backports_1.4.1         XVector_0.43.1         </span></span>
<span><span class="co">#&gt;  [19] labeling_0.4.3          utf8_1.2.4              learnr_0.11.5          </span></span>
<span><span class="co">#&gt;  [22] shinyjqui_0.4.1         promises_1.2.1          rmarkdown_2.26         </span></span>
<span><span class="co">#&gt;  [25] ragg_1.2.7              purrr_1.0.2             xfun_0.42              </span></span>
<span><span class="co">#&gt;  [28] zlibbioc_1.49.0         cachem_1.0.8            jsonlite_1.8.8         </span></span>
<span><span class="co">#&gt;  [31] highr_0.10              later_1.3.2             DelayedArray_0.29.9    </span></span>
<span><span class="co">#&gt;  [34] parallel_4.4.0          cluster_2.1.6           R6_2.5.1               </span></span>
<span><span class="co">#&gt;  [37] bslib_0.6.1             stringi_1.8.3           RColorBrewer_1.1-3     </span></span>
<span><span class="co">#&gt;  [40] rpart_4.1.23            jquerylib_0.1.4         assertthat_0.2.1       </span></span>
<span><span class="co">#&gt;  [43] Rcpp_1.0.12             bookdown_0.38           iterators_1.0.14       </span></span>
<span><span class="co">#&gt;  [46] knitr_1.45              base64enc_0.1-3         httpuv_1.6.14          </span></span>
<span><span class="co">#&gt;  [49] Matrix_1.6-5            nnet_7.3-19             tidyselect_1.2.1       </span></span>
<span><span class="co">#&gt;  [52] rstudioapi_0.15.0       abind_1.4-5             yaml_2.3.8             </span></span>
<span><span class="co">#&gt;  [55] doParallel_1.0.17       codetools_0.2-19        lattice_0.22-5         </span></span>
<span><span class="co">#&gt;  [58] withr_3.0.0             shiny_1.8.0             evaluate_0.23          </span></span>
<span><span class="co">#&gt;  [61] foreign_0.8-86          desc_1.4.3              circlize_0.4.16        </span></span>
<span><span class="co">#&gt;  [64] pillar_1.9.0            BiocManager_1.30.22     checkmate_2.3.1        </span></span>
<span><span class="co">#&gt;  [67] DT_0.32                 foreach_1.5.2           generics_0.1.3         </span></span>
<span><span class="co">#&gt;  [70] rprojroot_2.0.4         RCurl_1.98-1.14         ggplot2_3.5.0          </span></span>
<span><span class="co">#&gt;  [73] munsell_0.5.0           scales_1.3.0            xtable_1.8-4           </span></span>
<span><span class="co">#&gt;  [76] glue_1.7.0              Hmisc_5.1-1             tools_4.4.0            </span></span>
<span><span class="co">#&gt;  [79] data.table_1.15.2       fs_1.6.3                cowplot_1.1.3          </span></span>
<span><span class="co">#&gt;  [82] grid_4.4.0              tidyr_1.3.1             sortable_0.5.0         </span></span>
<span><span class="co">#&gt;  [85] colorspace_2.1-0        GenomeInfoDbData_1.2.11 htmlTable_2.4.2        </span></span>
<span><span class="co">#&gt;  [88] Formula_1.2-5           cli_3.6.2               textshaping_0.3.7      </span></span>
<span><span class="co">#&gt;  [91] fansi_1.0.6             S4Arrays_1.3.6          ComplexHeatmap_2.19.0  </span></span>
<span><span class="co">#&gt;  [94] gtable_0.3.4            sass_0.4.8              digest_0.6.35          </span></span>
<span><span class="co">#&gt;  [97] SparseArray_1.3.4       farver_2.1.1            rjson_0.2.21           </span></span>
<span><span class="co">#&gt; [100] htmlwidgets_1.6.4       memoise_2.0.1           htmltools_0.5.7        </span></span>
<span><span class="co">#&gt; [103] pkgdown_2.0.7.9000      lifecycle_1.0.4         mime_0.12              </span></span>
<span><span class="co">#&gt; [106] GlobalOptions_0.1.2</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Federico Marini, Charlotte Soneson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
